<%= render 'pages/shared/header' %>
<div class="container">
  <% unless @messages_errors.nil? %>
    <% @messages_errors.each do |msg| %>
      <div class="notification is-danger">
        <button class="delete" type="button"></button>
        <%= msg %>
      </div>
    <% end %>
  <% end %>
  <h2 class="title"> Dados de cobrança </h2>
  <%= form_with model: @holder, url: scheduling_holder_path(id: 0, scheduling_id: @scheduling.id), method: :put, local: true do |f| %>
    <div class="columns is-multiline">
      <div class="column is-4">
        <div class="field">
          <div class="control">
            <label class="label">CPF</label>
            <%= f.text_field :cpf, class: 'input cpf', required: true %>
          </div>
        </div>
      </div>
      
      <div class="column is-4">
        <div class="field">
          <div class="control">
            <label class="label">Telefone</label>
            <%= f.text_field :phone, class: 'input phone', required: true %>
          </div>
        </div>
      </div>
      <div class="column is-4">
        <div class="field">
          <div class="control">
            <label class="label">Data de nascimento</label>
            <%= f.date_field :birth_date, id: 'birthdate', class: 'input', required: true %>
          </div>
        </div>
      </div>

      <div class="column is-2">
        <div class="field">
          <div class="control">
            <label class="label">CEP</label>
            <%= f.number_field "address[zipcode]", class: 'input', required: true %>
          </div>
        </div>
      </div>
      <div class="column is-8">  
        <div class="field">
          <div class="control">
            <label class="label">Rua</label>
            <%= f.text_field "address[street]", class: 'input', required: true %>
          </div>
        </div>
      </div>
      <div class="column is-2">  
        <div class="field">
          <div class="control">
            <label class="label">Número</label>
            <%= f.number_field "address[number]", class: 'input', required: true %>
          </div>
        </div>
      </div>
      <div class="column is-5">
        <div class="field">
          <div class="control">
            <label class="label">Bairro</label>
            <%= f.text_field "address[neighborhood]", class: 'input', required: true %>
          </div>
        </div>
      </div>
      <div class="column is-5">
        <div class="field">
          <div class="control">
            <label class="label">Cidade</label>
            <%= f.text_field "address[city]", class: 'input', required: true %>
          </div>
        </div>
      </div>
      <div class="column is-2">
        <div class="field">
          <div class="control">
            <label class="label" for="state">Estado</label>
            <div class="select">        
              <%= render_states('address[state]') %>
            </div>
          </div>
        </div>
      </div>
    </div>
    <%= f.submit 'Usar esses dados', class: 'button is-info is-pulled-right is-fullwidth'%>
  <% end %>
</div>