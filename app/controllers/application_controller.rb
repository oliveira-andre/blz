class ApplicationController < ActionController::Base
  before_action :configure_permitted_parameters, if: :devise_controller?
  before_action :authenticate_user!
  before_action :set_imgs
  include Pundit

  rescue_from Pundit::NotAuthorizedError do
    respond_to do |format|
      format.html { redirect_to root_path, flash: { error: 'NÃ£o autorizado' } }
    end
  end

  protected

  def set_imgs
    @imgs = [
      'https://st2.depositphotos.com/1097957/7981/i/950/depositphotos_79815746-stock-photo-hairdresser-cut-blond-hair-of.jpg',
      'http://natumcosmeticos.com.br/blog/wp-content/uploads/2017/03/Depositphotos_122383106_m-2015.jpg',
      'http://salaovalentina.com.br/wp-content/uploads/2015/06/antes-e-depois-corte-de-cabelo-salao-valentina-bh-02.jpg.pagespeed.ce.OLTHn-pDDu.jpg',
      'https://oligoflora.com.br/wp-content/uploads/2013/10/oligoflora-tratamento-especial-massagem-equilibrare-1.jpg',
      'data:image/jpeg;base64,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',
      'https://tasabendo.com.br/wp-content/uploads/2015/07/Unhas1.jpg'
    ]
  end

  def configure_permitted_parameters
    devise_parameter_sanitizer.permit(:sign_up, keys: [:name])
  end
end
